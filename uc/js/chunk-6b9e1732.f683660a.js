(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b9e1732"],{c1d6:function(t,a,e){},e189:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"store"},[e("vue-scroll",[e("div",{staticClass:"store-settings"},[e("el-form",{ref:"form",staticClass:"form",attrs:{model:t.applyForm,rules:t.rules,size:"small"}},[e("el-form-item",[e("span",{staticClass:"title float-l"},[t._v(t._s(t.$L("店铺地址"))+":")]),e("a",{staticClass:"link float-l mainFontColor",attrs:{href:t.applyForm.shareLink,target:"_blank"}},[t._v("\n                        "+t._s(t.applyForm.shareLink)+"\n                    ")]),e("span",{staticClass:"state mainFontColor float-l",on:{click:t.storeCodeFunc}})]),e("el-form-item",[e("span",{staticClass:"title"},[t._v(t._s(t.$L("使用独立域名"))+":")]),e("el-input",{attrs:{placeholder:t.$L("类似 www.test.com 的域名")},model:{value:t.applyForm.shopDomain,callback:function(a){t.$set(t.applyForm,"shopDomain",a)},expression:"applyForm.shopDomain"}}),e("p",{staticClass:"domain-tips"},[t._v("\n                        *"+t._s(t.$L("更换店铺域名后，请将CNAME地址解析到"))+"，\n                        "),e("a",{attrs:{href:t.applyForm.bindDomain,target:"_blank"}},[e("span",{staticClass:"mainFontColor"},[t._v("\n                            "+t._s(t.applyForm.bindDomain)+"\n                        ")])]),t._v("\n                        "+t._s(t.$L("等待2个小时后即可访问您的店铺"))+"！\n                    ")])],1),e("el-form-item",[e("span",{staticClass:"title"},[t._v(t._s(t.$L("店铺LOGO"))+":")]),e("div",{staticClass:"logo-img"},[e("label",{staticClass:"img-box"},[e("img",{staticClass:"img",attrs:{src:t.applyForm.shopImg}}),e("input",{attrs:{id:"fileinp",type:"file",name:"CommentsPic",placeholder:t.$L("上传图片"),multiple:"",accept:"image/png,image/jpeg,image/jpg"},on:{change:t.upImgFunc}})]),e("p",{staticClass:"tips"},[e("span",[t._v(t._s(t.$L("建议尺寸：200 x 200 像素小于120KB，支持jpg、gif、png格式")))])])])]),e("el-form-item",[e("span",{staticClass:"title"},[t._v(t._s(t.$L("店铺名称"))+":")]),e("el-input",{model:{value:t.applyForm.shopName,callback:function(a){t.$set(t.applyForm,"shopName",a)},expression:"applyForm.shopName"}})],1)],1)],1),e("div",{staticClass:"bottom-btns"},[e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.saveSettingFunc}},[t._v(t._s(t.$L("保存")))])],1),e("el-dialog",{staticClass:"crash-dialog",attrs:{visible:t.storeCode,width:"80%",modal:!0,"modal-append-to-body":!1,"append-to-body":""},on:{"update:visible":function(a){t.storeCode=a}}},[e("div",{staticClass:"dialog-header",staticStyle:{display:"none"},attrs:{slot:"title"},slot:"title"}),e("div",{staticClass:"dialog-item"},[e("img",{staticClass:"img",attrs:{src:t.qrcodeLink}}),e("p",{staticClass:"title"},[t._v(t._s(t.$L("店铺二维码")))])]),e("div",{staticClass:"dialog-footer",staticStyle:{display:"none"},attrs:{slot:"footer"},slot:"footer"})])],1)],1)},n=[],i={name:"storeSettings",data:function(){return{loading:!0,errorType:"error",errorTitle:this.$L("出错了"),errorTips:null,errorShow:!1,applyForm:{shopName:"",shopImg:"",shopDomain:"",shareLink:"",bindDomain:""},rules:{shopName:[{required:!0}]},storeCode:!1,qrcodeLink:"",uploadImg:[]}},inject:["reload"],created:function(){this.getData()},methods:{showError:function(t,a,e){this.errorType="warning"===e?"warning":"error",this.errorTitle=t&&""!==t?t:this.$L("出错了"),this.errorTips=a&&""!==a?a:null,this.loading=!1,this.errorShow=!0},getData:function(){var t=this;t.loading=!0,t.$api("distributionshopSetting",{isMobile:0},(function(a){1===a.flag?(t.applyForm.shopName=a.data.shopName,t.applyForm.shopImg=a.data.shopImg,t.applyForm.shopDomain=a.data.shopDomain,t.applyForm.shareLink=a.data.shareLink,t.qrcodeLink=a.data.qrcodeLink,t.applyForm.bindDomain=a.data.bindDomain,t.loading=!1):-1===a.flag?t.$confirm(t.$L("请重新登录"),t.$L("登录超时"),{confirmButtonText:t.$L("重新登录"),cancelButtonText:t.$L("取消"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.$router.push({name:"login",query:{redirect:t.$route.fullPath}})})).catch((function(a){t.$gotoWebHome()})):t.$confirm(t.$L("数据加载失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(a){t.$router.push({name:"distributorMain"})}))}),(function(a){t.$confirm(t.$L("网络请求失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(a){t.$router.push({name:"distributorMain"})}))}))},upImgFunc:function(t){var a=this,e=t.target.files[0],o=Math.floor(e.size/1024),n=e.type.substring(6);if(o>2097152)return a.$Message.info("请选择2M以内的图片！"),!1;if("png"!==n&&"jpeg"!==n&&"jpg"!==n)return a.$Message.info("请选择png、jpeg、jpg的图片格式！"),!1;a.uploadImg={file:e};var i=new FileReader;i.readAsDataURL(e),i.onload=function(t){a.applyForm.shopImg=t.target.result}},saveSettingFunc:function(){var t=this;if(t.loading=!0,""==t.applyForm.shopName)return t.$message({message:t.$L("店铺名称不能为空!"),type:"error"}),void(t.loading=!1);t.applyForm.img=t.uploadImg;var a={shopName:t.applyForm.shopName,shopDomain:t.applyForm.shopDomain,BindLogo:t.applyForm.img},e=t.$objToFormData(a);t.$api("distributionShopSettingBtn",e,(function(a){1===a.flag?(t.$message({type:"success",message:t.$L("保存成功!")}),t.getData(),t.loading=!1):0===a.flag?(t.$message({type:"info",message:a.msg}),t.loading=!1):-1===a.flag?t.$confirm(t.$L("请重新登录"),t.$L("登录超时"),{confirmButtonText:t.$L("重新登录"),cancelButtonText:t.$L("取消"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.$router.push({name:"login",query:{redirect:t.$route.fullPath}})})).catch((function(t){})):t.$confirm(t.$L(a.msg),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(a){"cancel"==a?t.$gotoWebHome():t.getData()}))}),(function(a){t.$confirm(t.$L("网络请求失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(a){t.$router.push({name:"distributorUserOrder"})}))}),!0)},storeCodeFunc:function(){this.storeCode=!0}}},s=i,r=(e("f759"),e("e90a")),l=Object(r["a"])(s,o,n,!1,null,"650fc0db",null);a["default"]=l.exports},f759:function(t,a,e){"use strict";var o=e("c1d6"),n=e.n(o);n.a}}]);
//# sourceMappingURL=chunk-6b9e1732.f683660a.js.map